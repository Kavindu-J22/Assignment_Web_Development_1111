<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodExpress - Home | Fast Food Delivery Service</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <i class="fas fa-utensils"></i>
                    <span>FoodExpress</span>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link active">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="contact.html" class="nav-link">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a href="login.html" class="nav-link">Login</a>
                    </li>
                    <li class="nav-item">
                        <a href="register.html" class="nav-link">Register</a>
                    </li>
                    <li class="nav-item">
                        <a href="profile.html" class="nav-link">Profile</a>
                    </li>
                </ul>
                <div class="nav-toggle" id="mobile-menu">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-container">
                <div class="hero-content">
                    <h1 class="hero-title">Delicious Food Delivered Fast</h1>
                    <p class="hero-description">
                        Order your favorite meals from the best restaurants in your area. 
                        Fast delivery, fresh ingredients, and amazing taste guaranteed!
                    </p>
                    <div class="hero-buttons">
                        <a href="register.html" class="btn btn-primary">Order Now</a>
                        <a href="#features" class="btn btn-secondary">Learn More</a>
                    </div>
                </div>
                <div class="hero-image">
                    <i class="fas fa-pizza-slice hero-icon"></i>
                </div>
            </div>
        </section>

        <!-- Overall Rating Section -->
        <section class="rating-section">
            <div class="container">
                <div class="overall-rating" id="overallRating" style="display: none;">
                    <div class="overall-rating-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="overall-rating-content">
                        <h3 id="ratingValue">0.0</h3>
                        <p id="ratingCount">0 reviews</p>
                    </div>
                    <div class="rating-stars" id="ratingStars">
                        <!-- Stars will be generated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features">
            <div class="container">
                <h2 class="section-title">Why Choose FoodExpress?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3 class="feature-title">Fast Delivery</h3>
                        <p class="feature-description">
                            Get your food delivered in 30 minutes or less. We guarantee quick and reliable service.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <h3 class="feature-title">Fresh Ingredients</h3>
                        <p class="feature-description">
                            We work with restaurants that use only the freshest, highest-quality ingredients.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <h3 class="feature-title">Top Rated</h3>
                        <p class="feature-description">
                            Rated #1 food delivery service with thousands of satisfied customers.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3 class="feature-title">Easy Ordering</h3>
                        <p class="feature-description">
                            Simple and intuitive ordering process. Order from any device, anywhere.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Popular Restaurants Section -->
        <section class="restaurants">
            <div class="container">
                <h2 class="section-title">Popular Restaurants</h2>
                <div class="restaurants-grid">
                    <div class="restaurant-card">
                        <div class="restaurant-image">
                            <i class="fas fa-hamburger"></i>
                        </div>
                        <div class="restaurant-info">
                            <h3 class="restaurant-name">Burger Palace</h3>
                            <p class="restaurant-cuisine">American • Burgers</p>
                            <div class="restaurant-rating">
                                <i class="fas fa-star"></i>
                                <span>4.8 (250+ reviews)</span>
                            </div>
                        </div>
                    </div>
                    <div class="restaurant-card">
                        <div class="restaurant-image">
                            <i class="fas fa-pizza-slice"></i>
                        </div>
                        <div class="restaurant-info">
                            <h3 class="restaurant-name">Pizza Corner</h3>
                            <p class="restaurant-cuisine">Italian • Pizza</p>
                            <div class="restaurant-rating">
                                <i class="fas fa-star"></i>
                                <span>4.7 (180+ reviews)</span>
                            </div>
                        </div>
                    </div>
                    <div class="restaurant-card">
                        <div class="restaurant-image">
                            <i class="fas fa-fish"></i>
                        </div>
                        <div class="restaurant-info">
                            <h3 class="restaurant-name">Sushi Master</h3>
                            <p class="restaurant-cuisine">Japanese • Sushi</p>
                            <div class="restaurant-rating">
                                <i class="fas fa-star"></i>
                                <span>4.9 (320+ reviews)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <i class="fas fa-utensils"></i>
                        <span>FoodExpress</span>
                    </div>
                    <p class="footer-description">
                        Your favorite food delivery service. Fast, fresh, and reliable.
                    </p>
                </div>
                <div class="footer-section">
                    <h4 class="footer-title">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="register.html">Register</a></li>
                        <li><a href="login.html">Login</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 class="footer-title">Contact Info</h4>
                    <div class="contact-info">
                        <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                        <p><i class="fas fa-envelope"></i> info@foodexpress.com</p>
                        <p><i class="fas fa-map-marker-alt"></i> 123 Food Street, City</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 FoodExpress. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // Load overall rating on homepage
        document.addEventListener('DOMContentLoaded', function() {
            loadOverallRating();
        });

        function loadOverallRating() {
            fetch('php/get_rating.php')
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.rating.count > 0) {
                        displayOverallRating(data.rating);
                    }
                })
                .catch(error => {
                    console.log('Rating loading failed:', error);
                });
        }

        function displayOverallRating(rating) {
            const ratingContainer = document.getElementById('overallRating');
            const ratingValue = document.getElementById('ratingValue');
            const ratingCount = document.getElementById('ratingCount');
            const ratingStars = document.getElementById('ratingStars');

            // Update rating value
            ratingValue.textContent = rating.average;

            // Update rating count
            const countText = rating.count === 1 ? '1 review' : `${rating.count} reviews`;
            ratingCount.textContent = countText;

            // Generate stars
            ratingStars.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const star = document.createElement('span');
                star.className = 'rating-star';
                star.innerHTML = '★';

                if (i <= Math.floor(rating.average)) {
                    star.classList.add('filled');
                } else if (i === Math.ceil(rating.average) && rating.average % 1 !== 0) {
                    star.classList.add('half-filled');
                } else {
                    star.classList.add('empty');
                }

                ratingStars.appendChild(star);
            }

            // Show the rating container
            ratingContainer.style.display = 'flex';
        }
    </script>
</body>
</html>
